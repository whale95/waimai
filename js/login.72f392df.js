"use strict";(self["webpackChunkwaimai_app"]=self["webpackChunkwaimai_app"]||[]).push([[535],{8550:function(e,n,t){t.r(n),t.d(n,{default:function(){return y}});var o=t(6944),r=(t(3277),t(9545)),l=(t(51),t(5331)),a=(t(9041),t(3548)),s=(t(2471),t(2157)),i=t(3396);const u=e=>((0,i.dD)("data-v-23f443c0"),e=e(),(0,i.Cn)(),e),d={class:"login"},c={class:"content"},m=u((()=>(0,i._)("div",{class:"top"},[(0,i._)("span",null,"买团")],-1))),p={class:"details"},f={style:{margin:"16px"}};function g(e,n,t,u,g,v){const b=s.Z,w=a.gN,h=l.TS,S=r.zx,_=o.l0;return(0,i.wg)(),(0,i.iD)("div",d,[(0,i.Wm)(b,{title:"登录"}),(0,i._)("div",c,[m,(0,i._)("div",p,[(0,i.Wm)(_,{onSubmit:u.onSubmit},{default:(0,i.w5)((()=>[(0,i.Wm)(h,{inset:""},{default:(0,i.w5)((()=>[(0,i.Wm)(w,{modelValue:e.username,"onUpdate:modelValue":n[0]||(n[0]=n=>e.username=n),name:"username",label:"用户名",placeholder:"用户名",rules:[{required:!0,message:"请填写用户名"}]},null,8,["modelValue"]),(0,i.Wm)(w,{modelValue:e.password,"onUpdate:modelValue":n[1]||(n[1]=n=>e.password=n),type:"password",name:"password",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"])])),_:1}),(0,i._)("div",f,[(0,i.Wm)(S,{round:"",block:"",type:"primary","native-type":"submit"},{default:(0,i.w5)((()=>[(0,i.Uk)(" 登录 ")])),_:1}),(0,i.Wm)(S,{round:"",block:"",type:"primary",onClick:u.onRegister},{default:(0,i.w5)((()=>[(0,i.Uk)(" 去注册 ")])),_:1},8,["onClick"])])])),_:1},8,["onSubmit"])])])])}t(7658);var v=t(2483),b=t(4870),w=t(9733),h={components:{Header:s.Z},setup(){let e=(0,b.qj)({username:"",password:""}),n=(0,v.tv)();const t=e=>{if(console.log(e),localStorage.userInfo){let t=JSON.parse(localStorage.getItem("userInfo"));e.username===t.username?e.password===t.password?((0,w.CF)("登录成功"),localStorage.setItem("isLogin","login"),n.push("/home")):(0,w.CF)("密码错误"):(0,w.CF)("账号不存在")}else(0,w.CF)("账号未注册")},o=()=>{n.push("/register")};return{...(0,b.BK)(e),onSubmit:t,onRegister:o}}},S=t(89);const _=(0,S.Z)(h,[["render",g],["__scopeId","data-v-23f443c0"]]);var y=_},1787:function(e,n,t){t.r(n),t.d(n,{default:function(){return y}});var o=t(6944),r=(t(3277),t(9545)),l=(t(51),t(5331)),a=(t(9041),t(3548)),s=(t(2471),t(2157)),i=t(3396);const u=e=>((0,i.dD)("data-v-6657e3f5"),e=e(),(0,i.Cn)(),e),d={class:"login"},c={class:"content"},m=u((()=>(0,i._)("div",{class:"top"},[(0,i._)("span",null,"买团")],-1))),p={class:"details"},f={style:{margin:"16px"}};function g(e,n,t,u,g,v){const b=s.Z,w=a.gN,h=l.TS,S=r.zx,_=o.l0;return(0,i.wg)(),(0,i.iD)("div",d,[(0,i.Wm)(b,{title:"注册"}),(0,i._)("div",c,[m,(0,i._)("div",p,[(0,i.Wm)(_,{onSubmit:u.onSubmit},{default:(0,i.w5)((()=>[(0,i.Wm)(h,{inset:""},{default:(0,i.w5)((()=>[(0,i.Wm)(w,{modelValue:e.username,"onUpdate:modelValue":n[0]||(n[0]=n=>e.username=n),name:"username",label:"用户名",placeholder:"用户名",rules:[{required:!0,message:"请填写用户名"}]},null,8,["modelValue"]),(0,i.Wm)(w,{modelValue:e.password,"onUpdate:modelValue":n[1]||(n[1]=n=>e.password=n),type:"password",name:"password",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"])])),_:1}),(0,i._)("div",f,[(0,i.Wm)(S,{round:"",block:"",type:"primary","native-type":"submit"},{default:(0,i.w5)((()=>[(0,i.Uk)(" 注册 ")])),_:1}),(0,i.Wm)(S,{round:"",block:"",type:"primary",onClick:u.onLogin},{default:(0,i.w5)((()=>[(0,i.Uk)(" 去登录 ")])),_:1},8,["onClick"])])])),_:1},8,["onSubmit"])])])])}t(7658);var v=t(2483),b=t(4870),w=t(9733),h={components:{Header:s.Z},setup(){let e=(0,b.qj)({username:"",password:"",describe:"今天晚上吃什么？"}),n=(0,v.tv)();const t=e=>{if(localStorage.userInfo){const n=JSON.parse(localStorage.getItem("userInfo"));e.username==n.username?(0,w.CF)("用户名已存在"):o(e)}else o(e)},o=e=>{e["describe"]="今天晚上吃什么？",localStorage.setItem("userInfo",JSON.stringify(e)),(0,w.CF)("注册成功"),n.push("/login")},r=()=>{n.push("/login")};return{...(0,b.BK)(e),onSubmit:t,onLogin:r}}},S=t(89);const _=(0,S.Z)(h,[["render",g],["__scopeId","data-v-6657e3f5"]]);var y=_},51:function(e,n,t){t(1958),t(368),t(6742),t(2939),t(1452)},5331:function(e,n,t){t.d(n,{TS:function(){return m}});var o=t(1404),r=t(3396),l=t(610),a=t(5323),s=t(5322);const[i,u]=(0,l["do"])("cell-group"),d={title:String,inset:Boolean,border:a.J5};var c=(0,r.aZ)({name:i,inheritAttrs:!1,props:d,setup(e,{slots:n,attrs:t}){const o=()=>{var o;return(0,r.Wm)("div",(0,r.dG)({class:[u({inset:e.inset}),{[s.r5]:e.border&&!e.inset}]},t),[null==(o=n.default)?void 0:o.call(n)])},l=()=>(0,r.Wm)("div",{class:u("title",{inset:e.inset})},[n.title?n.title():e.title]);return()=>e.title||n.title?(0,r.Wm)(r.HY,null,[l(),o()]):o()}});const m=(0,o.n)(c)},9041:function(e,n,t){t(1958)},6401:function(e,n,t){t.d(n,{M:function(){return l}});var o=t(3396);let r=0;function l(){const e=(0,o.FN)(),{name:n="unknown"}=(null==e?void 0:e.type)||{};return`${n}-${++r}`}},6014:function(e,n,t){t.d(n,{BC:function(){return l},g2:function(){return r},yj:function(){return a}});var o=t(3396);const r={to:[String,Object],url:String,replace:Boolean};function l({to:e,url:n,replace:t,$router:o}){e&&o?o[t?"replace":"push"](e):n&&(t?location.replace(n):location.href=n)}function a(){const e=(0,o.FN)().proxy;return()=>l(e)}},2471:function(e,n,t){t(1958),t(368),t(6742),t(3094),t(7984)},6944:function(e,n,t){t.d(n,{l0:function(){return g}});var o=t(1404),r=(t(7658),t(3396)),l=t(610),a=t(5323),s=t(5322),i=t(7936),u=t(253),d=t(3444);const[c,m]=(0,l["do"])("form"),p={colon:Boolean,disabled:Boolean,readonly:Boolean,showError:Boolean,labelWidth:a.Or,labelAlign:String,inputAlign:String,scrollToError:Boolean,validateFirst:Boolean,submitOnEnter:a.J5,showErrorMessage:a.J5,errorMessageAlign:String,validateTrigger:{type:[String,Array],default:"onBlur"}};var f=(0,r.aZ)({name:c,props:p,emits:["submit","failed"],setup(e,{emit:n,slots:t}){const{children:o,linkChildren:l}=(0,u.$E)(s.WN),a=e=>e?o.filter((n=>e.includes(n.name))):o,c=e=>new Promise(((n,t)=>{const o=[],r=a(e);r.reduce(((e,n)=>e.then((()=>{if(!o.length)return n.validate().then((e=>{e&&o.push(e)}))}))),Promise.resolve()).then((()=>{o.length?t(o):n()}))})),p=e=>new Promise(((n,t)=>{const o=a(e);Promise.all(o.map((e=>e.validate()))).then((e=>{e=e.filter(Boolean),e.length?t(e):n()}))})),f=e=>{const n=o.find((n=>n.name===e));return n?new Promise(((e,t)=>{n.validate().then((n=>{n?t(n):e()}))})):Promise.reject()},g=n=>"string"===typeof n?f(n):e.validateFirst?c(n):p(n),v=e=>{"string"===typeof e&&(e=[e]);const n=a(e);n.forEach((e=>{e.resetValidation()}))},b=()=>o.reduce(((e,n)=>(e[n.name]=n.getValidationStatus(),e)),{}),w=(e,n)=>{o.some((t=>t.name===e&&(t.$el.scrollIntoView(n),!0)))},h=()=>o.reduce(((e,n)=>(void 0!==n.name&&(e[n.name]=n.formValue.value),e)),{}),S=()=>{const t=h();g().then((()=>n("submit",t))).catch((o=>{n("failed",{values:t,errors:o}),e.scrollToError&&o[0].name&&w(o[0].name)}))},_=e=>{(0,i.PF)(e),S()};return l({props:e}),(0,d.F)({submit:S,validate:g,getValues:h,scrollToField:w,resetValidation:v,getValidationStatus:b}),()=>{var e;return(0,r.Wm)("form",{class:m(),onSubmit:_},[null==(e=t.default)?void 0:e.call(t)])}}});const g=(0,o.n)(f)},3277:function(e,n,t){t(1958)},4165:function(e,n,t){t(1958),t(368),t(6742)}}]);
//# sourceMappingURL=login.72f392df.js.map